{% extends "base.html" %}

{% block content %}

<h2>Eliminaci贸n Gaussiana con Pivoteo Total</h2>

<form method="post">
  {% csrf_token %} {{ form.as_p }}
  <button type="submit" class="btn btn-primary">Calcular</button>
</form>

{% if error %}
<div class="alert alert-danger mt-3"><strong>Error:</strong> {{ error }}</div>
{% endif %} {% if success %}
<h3 class="mt-4">Resultados</h3>

<h4 class="mt-3">Proceso de Eliminaci贸n:</h4>
{% for iter in tabla %}
<h5>Iteraci贸n {{ iter.iteracion }}</h5>
<div class="alert alert-info">
  {{ iter.pivot_info }}<br />
  Orden de variables: {{ iter.marca|join:", " }}
</div>
<table class="table table-bordered">
  {% for row in iter.matriz %}
  <tr>
    {% for val in row %}
    <td>{{ val|floatformat:4 }}</td>
    {% endfor %}
  </tr>
  {% endfor %}
</table>
{% endfor %}

<h4 class="mt-3">Soluci贸n:</h4>
<div class="alert alert-secondary">
  Orden final de variables: {{ marca_final|join:", " }}
</div>
<ul>
  {% for val in solucion %}
  <li>x{{ forloop.counter }} = {{ val|floatformat:6 }}</li>
  {% endfor %}
</ul>
{% endif %}

{% endblock content %}